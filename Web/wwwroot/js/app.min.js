let app=new Vue({el:"#vue-header",data:{currentTheme:"",themes:[]},created:function(){fetch("/Api/Theme").then(e=>e.json()).then(e=>{this.themes=e});var e=localStorage.getItem("currentTheme");null!=e&&(this.currentTheme=e)},methods:{setTheme(t){var e=this.themes.find(e=>e.name===t);loadStyles(e.cssUrl),this.currentTheme=t,localStorage.setItem("currentTheme",t),localStorage.setItem("currentThemeCssUrl",e.cssUrl)}}});function procImages(e){$.get(`/Api/BlogPost/${e}/`,function(e){for(var t of document.querySelectorAll(".post-content img")){var o=t.getAttribute("src"),r=`/assets/blog/${e.path}/`+o;console.log("originSrc",o),console.log("newSrc",r),t.setAttribute("src",r)}})}$(function(){editormd.markdownToHTML("test-editormd-view",{htmlDecode:"style,script,iframe",tocm:!0,tocContainer:"#custom-toc-container",emoji:!0,taskList:!0,tex:!0,flowChart:!0,sequenceDiagram:!0})});let homeApp=new Vue({el:"#vue-app",data:{poem:{},hitokoto:{},poemSimple:""},created:function(){fetch("http://dc.sblt.deali.cn:9800/poem/simple").then(e=>e.text()).then(e=>this.poemSimple=e),fetch("http://dc.sblt.deali.cn:9800/poem/tang").then(e=>e.json()).then(e=>{this.poem=e.data}),fetch("http://dc.sblt.deali.cn:9800/hitokoto/get").then(e=>e.json()).then(e=>{this.hitokoto=e.data[0]})},methods:{randomColor(){return"rgb("+[Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())].join(",")+")"},loadWordCloud(){let t=echarts.init(document.getElementById("word_cloud"));fetch("/Api/Category/WordCloud").then(e=>e.json()).then(e=>{e=e.map(e=>({...e,textStyle:{normal:{color:this.randomColor()}}})),console.log("data",e),e={series:[{type:"wordCloud",shape:"diamond",left:"center",top:"center",right:null,bottom:null,width:"50%",height:"50%",sizeRange:[10,80],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!0,textStyle:{normal:{fontFamily:"sans-serif",fontWeight:"normal"},emphasis:{shadowBlur:10,shadowColor:"#333"}},data:e}]};console.log("option",e),console.log("chart",t),t.setOption(e)})}}}),app=new Vue({el:"#vue-header",data:{currentTheme:"",themes:[]},created:function(){fetch("/Api/Theme").then(e=>e.json()).then(e=>{this.themes=e});var e=localStorage.getItem("currentTheme");null!=e&&(this.currentTheme=e)},methods:{setTheme(t){var e=this.themes.find(e=>e.name===t);loadStyles(e.cssUrl),this.currentTheme=t,localStorage.setItem("currentTheme",t),localStorage.setItem("currentThemeCssUrl",e.cssUrl)}}});function loadStyles(e){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}let themeCssUrl=localStorage.getItem("currentThemeCssUrl");null!==themeCssUrl&&loadStyles(themeCssUrl);